<div class="content ListPage">
  <div class="page-header mb-0">
    <div class="page-title">
      <h4>Purchase Contract Report</h4>
    </div>
    <div class="page-btn">
      <div class="wordset newwordset">
        <ul>
          <li>
            <a data-bs-toggle="tooltip" data-bs-placement="top" title="" id="pdfPrint" data-bs-original-title="pdf">
              <img src="assets/img/icons/pdf.svg" alt="img" />
            </a>
          </li>
          <li>
            <a data-bs-toggle="tooltip" data-bs-placement="top" title="" id="convertExel"
              data-bs-original-title="excel">
              <img src="assets/img/icons/excel.svg" alt="img" />
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="card mt-0">
    <div class="card-body pt-2">
      <div class="row fw-bolder">
        <div class="col-lg-2 col-md-3 col-sm-6">
          <label class="fw-bolder mb-1">Voucher Type</label>
          <div class="">
            <ng-select bindLabel="name" bindValue="id" placeholder="---Select Voucher Type---"
              [dropdownPosition]="'bottom'" [(ngModel)]="selectedVchType">
              <ng-option [value]="'PO-PUR'">PO-PUR</ng-option>
            </ng-select>
          </div>
        </div>
        <div class="col-lg-2 col-md-3 col-sm-6 ps-0">
          <div class="form-group">
            <label>From Date</label>
            <div class="input-groupicon">
              <input type="text" class="form-control" matInput [matDatepicker]="datepicker" (click)="datepicker.open()"
                [(ngModel)]="fromDate" />
              <mat-datepicker #datepicker [startAt]="fromDate"></mat-datepicker>
              <div class="addonset">
                <img src="assets/img/icons/calendars.svg" alt="img" />
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-2 col-sm-6 ps-0">
          <div class="form-group">
            <label>To Date</label>
            <div class="input-groupicon">
              <input type="text" class="form-control" matInput [matDatepicker]="datepicker2"
                (click)="datepicker2.open()" [(ngModel)]="toDate" />
              <mat-datepicker #datepicker2 [startAt]="toDate"></mat-datepicker>
              <div class="addonset">
                <img src="assets/img/icons/calendars.svg" alt="img" />
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 ps-0">
          <label class="fw-bolder mb-1">Party</label>
          <div class="">
            <ng-select bindLabel="NAMES" bindValue="CODE" placeholder="---Select Party---" 
            [items]="partyList"
              [dropdownPosition]="'bottom'">
            </ng-select>
          </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 ps-0">
          <label class="fw-bolder mb-1">Cost Center</label>
          <div class="">
            <ng-select bindLabel="LocName" bindValue="LocID" [items]="costCenterList"
              placeholder="---Select Cost Center---" [dropdownPosition]="'bottom'">
            </ng-select>
          </div>
        </div>
      </div>
      <div class="row fw-bolder">
        <div class="col-lg-3 col-md-3 col-sm-6">
          <label class="fw-bolder mb-1">From</label>
          <div class="form-group">
            <input type="text" class="form-control" [(ngModel)]="poNoFrom" placeholder="PoNo Range" />
          </div>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-6 ps-0">
          <label class="fw-bolder mb-1">To</label>
          <div class="form-group">
            <input type="text" class="form-control" [(ngModel)]="poNoTo" placeholder="PoNo Range" />
          </div>
        </div>

        <div class="col-lg-3 col-md-3 col-sm-6 ps-0">
          <label class="fw-bolder mb-1">Item</label>
          <div class="">
            <ng-select bindLabel="NAMES" bindValue="CODE" [items]="itemList" placeholder="---Select Item---"
              [dropdownPosition]="'bottom'">
            </ng-select>
          </div>
        </div>
        <div class="col-lg-2 col-md-1 col-sm-6 col align-self-center ps-0 mt-3">
          <div class="">
            <button class="btn btn-primary btn-sm" (click)="getPurchaseContractReport('view')">
              View
            </button>
          </div>
        </div>
        <div class="col-lg-1 col-md-3 col-sm-6 col align-self-center mt-3">
          <div class="d-flex justify-content-end">
            <button class="btn btn-info btn-sm" (click)="onViewReport()">Print</button>
          </div>
        </div>
      </div>
      <div class="row fw-bolder py-1">
        <div class="col-lg-9 col-md-2 col-sm-6 d-flex">
          <div class="form-group d-flex align-items-end">
            <div class="d-flex align-items-center me-3">
              <input type="radio" id="status" name="PCR" checked="checked" (click)="getPurchaseContractReport('status')"
                value="status" class="me-1" />
              <label for="status" class="mb-0">P.O Status Report</label>
            </div>
            <div class="d-flex align-items-center me-3">
              <input type="radio" id="detail" name="PCR" value="detail" (click)="getPurchaseContractReport('detail')"
                class="me-1" />
              <label for="detail" class="mb-0">Detail Report</label>
            </div>
            <div class="d-flex align-items-center me-3">
              <input type="radio" id="pending" name="PCR" value="pending" (click)="getPurchaseContractReport('pending')"
                class="me-1" />
              <label for="pending" class="mb-0">P.O Pending Report</label>
            </div>
            <div class="d-flex align-items-center me-3">
              <input type="radio" id="canceled" name="PCR" value="canceled"
                (click)="getPurchaseContractReport('canceled')" class="me-1" />
              <label for="canceled" class="mb-0">P.O Canceled Report</label>
            </div>
            <div class="d-flex align-items-center me-3">
              <input type="radio" id="detailReportStatus" name="PCR" value="detailReportStatus"
                (click)="getPurchaseContractReport('detailReportStatus')" class="me-1" />
              <label for="detailReportStatus" class="mb-0">Detail Report With All Status</label>
            </div>
          </div>
        </div>
      </div>
      <div class="row mb-0">
        <div class="col-lg-8 col-sm-12 col-12 d-flex">
          <div class="card flex-fill p-2">
            <div class="table-responsive" style="height: 400px">
              <table class="table tableSticky productTable fs-13 mb-0">
                <thead>
                  <tr>
                    <th style="width: 7.5%" class="text-start">PoNo</th>
                    <th style="width: 7.5%" class="text-center">Date</th>
                    <th style="width: 7.5%" class="text-start">Party</th>
                    <th style="width: 7.5%" class="text-end">Po Qty</th>
                    <th style="width: 7.5%" class="text-end">Recieve Qty</th>
                    <th style="width: 7.5%" class="text-end">Balance</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of purContRptList" (click)="getPurDetail(item)">
                    
                    <td class="text-start">
                      <span class="me-3" style="cursor: pointer;" (click)="printPo(item)">
                        <i class="fas fa-print"></i>
                      </span>
                      {{ item.pono }}
                    </td>
                    <td class="text-center">{{ item.podate }}</td>
                    <td class="text-start">{{ item.Party }}</td>
                    <td class="text-end">{{ item.qty }}</td>
                    <td class="text-end">{{ item.Gpqty }}</td>
                    <td class="text-end">{{item.b}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="col-lg-4 col-sm-12 col-12 d-flex ps-0">
          <div class="card flex-fill p-2">
            <div class="table-responsive" style="height: 400px">
              <table class="table tableSticky productTable fs-13 mb-0">
                <thead>
                  <tr>
                    <th style="width: 7.5%" class="text-start">Item</th>
                    <th style="width: 7.5%" class="text-center">Po Qty</th>
                    <th style="width: 7.5%" class="text-center">
                      Receieve Qty
                    </th>
                    <th style="width: 7.5%" class="text-end">Balance</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of purDetailList">
                    <td class="text-end">{{ item.a }}</td>
                    <td class="text-end">{{ item.a }}</td>
                    <td class="text-end">{{ item.a }}</td>
                    <td class="text-end">{{ item.a }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
